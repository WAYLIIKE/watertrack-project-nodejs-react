import{u as R,r as t,j as s,a as S,b as L,N as U,H as $}from"./index-a099a58e.js";import{C as k,P as G}from"./Page-d014503c.js";import{A}from"./AdvantagesSection-a6c87dc4.js";import{F as B,a as C,b as u,g as p,E as d,I as j,c as x}from"./IconEye-e7467f89.js";import{c as T,a as m}from"./index.esm-c1345edc.js";import"./iconBase-3da9dce8.js";const f="_signupLaptop_7be1r_2",q="_signupPicture_7be1r_10",V="_loader_7be1r_1",w={signupLaptop:f,signupPicture:q,"visually-hidden":"_visually-hidden_7be1r_1","close-modal-btn":"_close-modal-btn_7be1r_1",loader:V},H="_signupBack_ji4hl_1",O="_signupName_ji4hl_23",z="_signupForm_ji4hl_40",D="_signupLabel_ji4hl_57",M="_signupFormGroup_ji4hl_73",Z="_signupFormGroupEmail_ji4hl_80",J="_signupField_ji4hl_87",K="_signupButton_ji4hl_134",Q="_signupText_ji4hl_162",W="_signupA_ji4hl_178",X="_signupError_ji4hl_194",Y="_signUpErrorField_ji4hl_202",ss="_signupIconEyes_ji4hl_205",es="_signupIcon_ji4hl_205",ns="_loader_ji4hl_1",e={signupBack:H,signupName:O,signupForm:z,signupLabel:D,signupFormGroup:M,signupFormGroupEmail:Z,signupField:J,signupButton:K,signupText:Q,signupA:W,signupError:X,signUpErrorField:Y,signupIconEyes:ss,signupIcon:es,"visually-hidden":"_visually-hidden_ji4hl_1","close-modal-btn":"_close-modal-btn_ji4hl_1",loader:ns},as=()=>{const E=R(),g=t.useId(),h=t.useId(),_=t.useId(),[l,F]=t.useState(!1),[c,N]=t.useState(!1),[b,y]=t.useState(!1),I=T().shape({email:m().email().matches("^(?!.*@[^,]*,)","Invalid email").required("Email is required"),password:m().matches(/\d/,"The password must contain at least one number").required("No password provided.").min(8,"Password is too short - should be 8 chars minimum.").matches("[a-zA-Z]","Password can only contain Latin letters."),passwordRepeat:m().required("No password provided").matches(/\d/,"The password must contain at least one number")}),v=()=>{F(!l)},P=()=>{N(!c)};return b?s.jsx(S,{to:"/signin"}):s.jsx("div",{className:e.signupBack,children:s.jsx(B,{initialValues:{email:"",password:"",passwordRepeat:""},validationSchema:I,onSubmit:async(n,a)=>{const{passwordRepeat:o,password:i,email:r}=n;if(i!==o)return a.setFieldError("passwordRepeat","Passwords do not match");(await E(L({email:r,password:i}))).payload.message==="Verification link has been sent to your email"&&y(!0)},children:s.jsxs(C,{className:e.signupForm,children:[s.jsx("h1",{className:e.signupName,children:"Sign up"}),s.jsxs("div",{className:e.signupFormGroupEmail,children:[s.jsx("label",{className:e.signupLabel,htmlFor:g,children:"Email"}),s.jsx(u,{name:"email",children:({field:n,form:a})=>{const o=p(a.errors,n.name),i=p(a.touched,n.name),r=o&&i;return s.jsx("input",{...n,type:"text",className:`${e.signupField} ${r?e.signUpErrorField:""}`,id:g,autoComplete:"username",placeholder:"Enter your email"})}}),s.jsx(d,{name:"email",component:"span",className:e.signupError})]}),s.jsxs("div",{className:e.signupFormGroupEmail,children:[s.jsx("label",{className:e.signupLabel,htmlFor:h,children:"Password"}),s.jsxs("div",{className:e.signupIconEyes,children:[s.jsx(u,{name:"password",children:({field:n,form:a})=>{const o=p(a.errors,n.name),i=p(a.touched,n.name),r=o&&i;return s.jsx("input",{...n,type:l?"text":"password",className:`${e.signupField} ${r?e.signUpErrorField:""}`,id:h,autoComplete:"new-password",placeholder:"Enter your password"})}}),s.jsx("div",{className:e.signupIcon,onClick:v,children:l?s.jsx(j,{}):s.jsx(x,{})})]}),s.jsx(d,{name:"password",component:"span",className:e.signupError})]}),s.jsxs("div",{className:e.signupFormGroup,children:[s.jsx("label",{className:e.signupLabel,htmlFor:_,children:"Repeat password"}),s.jsxs("div",{className:e.signupIconEyes,children:[s.jsx(u,{name:"passwordRepeat",children:({field:n,form:a})=>{const o=p(a.errors,n.name),i=p(a.touched,n.name),r=o&&i;return s.jsx("input",{...n,type:c?"text":"password",className:`${e.signupField} ${r?e.signUpErrorField:""}`,id:_,autoComplete:"new-password",placeholder:"Repeat password"})}}),s.jsx("div",{className:e.signupIcon,onClick:P,children:c?s.jsx(j,{}):s.jsx(x,{})})]}),s.jsx(d,{name:"passwordRepeat",component:"span",className:e.signupError})]}),s.jsx("button",{className:e.signupButton,type:"submit",children:"Sign Up"}),s.jsxs("p",{className:e.signupText,children:["Already have an account? ",s.jsx(U,{to:"/signin",className:e.signupA,children:"Sign In"})]})]})})})};function ds(){return s.jsxs(k,{children:[s.jsx($,{children:s.jsx("title",{children:"Sign up"})}),s.jsx(G,{children:s.jsxs("div",{className:w.signupLaptop,children:[s.jsx(as,{}),s.jsx("div",{className:w.signupPicture,children:s.jsx(A,{})})]})})]})}export{ds as default};
