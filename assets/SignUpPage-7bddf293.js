import{u as R,r as t,j as s,g as S,h as L,N as U,H as $}from"./index-efba772d.js";import{C as k,P as G}from"./Page-1c2a4254.js";import{A}from"./AdvantagesSection-49f22154.js";import{F as B,a as C,b as u,g as p,E as d}from"./formik.esm-3a5a7bf7.js";import{c as T,a as m,I as j,b as x}from"./index.esm-6d79c65f.js";import"./hoist-non-react-statics.cjs-09102c4a.js";import"./iconBase-abbfc53b.js";const q="_signupLaptop_7be1r_2",V="_signupPicture_7be1r_10",H="_loader_7be1r_1",w={signupLaptop:q,signupPicture:V,"visually-hidden":"_visually-hidden_7be1r_1","close-modal-btn":"_close-modal-btn_7be1r_1",loader:H},O="_signupBack_matfj_1",z="_signupName_matfj_23",D="_signupForm_matfj_40",M="_signupLabel_matfj_57",Z="_signupFormGroup_matfj_73",J="_signupFormGroupEmail_matfj_80",K="_signupField_matfj_87",Q="_signupButton_matfj_135",W="_signupText_matfj_164",X="_signupA_matfj_180",Y="_signupError_matfj_196",ss="_signUpErrorField_matfj_204",es="_signupIconEyes_matfj_207",as="_signupIcon_matfj_207",ns="_loader_matfj_1",e={signupBack:O,signupName:z,signupForm:D,signupLabel:M,signupFormGroup:Z,signupFormGroupEmail:J,signupField:K,signupButton:Q,signupText:W,signupA:X,signupError:Y,signUpErrorField:ss,signupIconEyes:es,signupIcon:as,"visually-hidden":"_visually-hidden_matfj_1","close-modal-btn":"_close-modal-btn_matfj_1",loader:ns},os=()=>{const E=R(),g=t.useId(),h=t.useId(),_=t.useId(),[c,F]=t.useState(!1),[l,N]=t.useState(!1),[b,y]=t.useState(!1),I=T().shape({email:m().email().matches("^(?!.*@[^,]*,)","Invalid email").required("Email is required"),password:m().matches(/\d/,"The password must contain at least one number").required("No password provided.").min(8,"Password is too short - should be 8 chars minimum.").matches("[a-zA-Z]","Password can only contain Latin letters."),passwordRepeat:m().required("No password provided").matches(/\d/,"The password must contain at least one number")}),v=()=>{F(!c)},f=()=>{N(!l)};return b?s.jsx(S,{to:"/signin"}):s.jsx("div",{className:e.signupBack,children:s.jsx(B,{initialValues:{email:"",password:"",passwordRepeat:""},validationSchema:I,onSubmit:async(a,n)=>{const{passwordRepeat:r,password:o,email:i}=a;if(o!==r)return n.setFieldError("passwordRepeat","Passwords do not match");const P=await E(L({email:i,password:o}));n.resetForm(),P.payload.message==="Verification link has been sent to your email"&&y(!0)},children:s.jsxs(C,{className:e.signupForm,children:[s.jsx("h1",{className:e.signupName,children:"Sign up"}),s.jsxs("div",{className:e.signupFormGroupEmail,children:[s.jsx("label",{className:e.signupLabel,htmlFor:g,children:"Email"}),s.jsx(u,{name:"email",children:({field:a,form:n})=>{const r=p(n.errors,a.name),o=p(n.touched,a.name),i=r&&o;return s.jsx("input",{...a,type:"text",className:`${e.signupField} ${i?e.signUpErrorField:""}`,id:g,autoComplete:"username",placeholder:"Enter your email"})}}),s.jsx(d,{name:"email",component:"span",className:e.signupError})]}),s.jsxs("div",{className:e.signupFormGroupEmail,children:[s.jsx("label",{className:e.signupLabel,htmlFor:h,children:"Password"}),s.jsxs("div",{className:e.signupIconEyes,children:[s.jsx(u,{name:"password",children:({field:a,form:n})=>{const r=p(n.errors,a.name),o=p(n.touched,a.name),i=r&&o;return s.jsx("input",{...a,type:c?"text":"password",className:`${e.signupField} ${i?e.signUpErrorField:""}`,id:h,autoComplete:"new-password",placeholder:"Enter your password"})}}),s.jsx("div",{className:e.signupIcon,onClick:v,children:c?s.jsx(j,{}):s.jsx(x,{})})]}),s.jsx(d,{name:"password",component:"span",className:e.signupError})]}),s.jsxs("div",{className:e.signupFormGroup,children:[s.jsx("label",{className:e.signupLabel,htmlFor:_,children:"Repeat password"}),s.jsxs("div",{className:e.signupIconEyes,children:[s.jsx(u,{name:"passwordRepeat",children:({field:a,form:n})=>{const r=p(n.errors,a.name),o=p(n.touched,a.name),i=r&&o;return s.jsx("input",{...a,type:l?"text":"password",className:`${e.signupField} ${i?e.signUpErrorField:""}`,id:_,autoComplete:"new-password",placeholder:"Repeat password"})}}),s.jsx("div",{className:e.signupIcon,onClick:f,children:l?s.jsx(j,{}):s.jsx(x,{})})]}),s.jsx(d,{name:"passwordRepeat",component:"span",className:e.signupError})]}),s.jsx("button",{className:e.signupButton,type:"submit",children:"Sign Up"}),s.jsxs("p",{className:e.signupText,children:["Already have an account? ",s.jsx(U,{to:"/signin",className:e.signupA,children:"Sign In"})]})]})})})};function ms(){return s.jsxs(k,{children:[s.jsx($,{children:s.jsx("title",{children:"Sign up"})}),s.jsx(G,{children:s.jsxs("div",{className:w.signupLaptop,children:[s.jsx(os,{}),s.jsx("div",{className:w.signupPicture,children:s.jsx(A,{})})]})})]})}export{ms as default};
