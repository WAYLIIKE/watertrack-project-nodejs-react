import{u as P,r as t,j as s,a as R,b as S,N as L,H as U}from"./index-bec9ab02.js";import{C as $,P as k}from"./Page-cc9268e1.js";import{A as G}from"./AdvantagesSection-132bb038.js";import{F as A,a as B,b as u,g as p,E as d}from"./formik.esm-a53ec036.js";import{c as C,a as m,I as j,b as x}from"./index.esm-4af33bad.js";import"./iconBase-68a87366.js";const T="_signupLaptop_7be1r_2",q="_signupPicture_7be1r_10",V="_loader_7be1r_1",w={signupLaptop:T,signupPicture:q,"visually-hidden":"_visually-hidden_7be1r_1","close-modal-btn":"_close-modal-btn_7be1r_1",loader:V},H="_signupBack_matfj_1",O="_signupName_matfj_23",z="_signupForm_matfj_40",D="_signupLabel_matfj_57",M="_signupFormGroup_matfj_73",Z="_signupFormGroupEmail_matfj_80",J="_signupField_matfj_87",K="_signupButton_matfj_135",Q="_signupText_matfj_164",W="_signupA_matfj_180",X="_signupError_matfj_196",Y="_signUpErrorField_matfj_204",ss="_signupIconEyes_matfj_207",es="_signupIcon_matfj_207",as="_loader_matfj_1",e={signupBack:H,signupName:O,signupForm:z,signupLabel:D,signupFormGroup:M,signupFormGroupEmail:Z,signupField:J,signupButton:K,signupText:Q,signupA:W,signupError:X,signUpErrorField:Y,signupIconEyes:ss,signupIcon:es,"visually-hidden":"_visually-hidden_matfj_1","close-modal-btn":"_close-modal-btn_matfj_1",loader:as},ns=()=>{const E=P(),g=t.useId(),h=t.useId(),_=t.useId(),[c,F]=t.useState(!1),[l,N]=t.useState(!1),[b,y]=t.useState(!1),I=C().shape({email:m().email().matches("^(?!.*@[^,]*,)","Invalid email").required("Email is required"),password:m().matches(/\d/,"The password must contain at least one number").required("No password provided.").min(8,"Password is too short - should be 8 chars minimum.").matches("[a-zA-Z]","Password can only contain Latin letters."),passwordRepeat:m().required("No password provided").matches(/\d/,"The password must contain at least one number")}),v=()=>{F(!c)},f=()=>{N(!l)};return b?s.jsx(R,{to:"/signin"}):s.jsx("div",{className:e.signupBack,children:s.jsx(A,{initialValues:{email:"",password:"",passwordRepeat:""},validationSchema:I,onSubmit:async(a,n)=>{const{passwordRepeat:r,password:o,email:i}=a;if(o!==r)return n.setFieldError("passwordRepeat","Passwords do not match");(await E(S({email:i,password:o}))).payload.message==="Verification link has been sent to your email"&&y(!0)},children:s.jsxs(B,{className:e.signupForm,children:[s.jsx("h1",{className:e.signupName,children:"Sign up"}),s.jsxs("div",{className:e.signupFormGroupEmail,children:[s.jsx("label",{className:e.signupLabel,htmlFor:g,children:"Email"}),s.jsx(u,{name:"email",children:({field:a,form:n})=>{const r=p(n.errors,a.name),o=p(n.touched,a.name),i=r&&o;return s.jsx("input",{...a,type:"text",className:`${e.signupField} ${i?e.signUpErrorField:""}`,id:g,autoComplete:"username",placeholder:"Enter your email"})}}),s.jsx(d,{name:"email",component:"span",className:e.signupError})]}),s.jsxs("div",{className:e.signupFormGroupEmail,children:[s.jsx("label",{className:e.signupLabel,htmlFor:h,children:"Password"}),s.jsxs("div",{className:e.signupIconEyes,children:[s.jsx(u,{name:"password",children:({field:a,form:n})=>{const r=p(n.errors,a.name),o=p(n.touched,a.name),i=r&&o;return s.jsx("input",{...a,type:c?"text":"password",className:`${e.signupField} ${i?e.signUpErrorField:""}`,id:h,autoComplete:"new-password",placeholder:"Enter your password"})}}),s.jsx("div",{className:e.signupIcon,onClick:v,children:c?s.jsx(j,{}):s.jsx(x,{})})]}),s.jsx(d,{name:"password",component:"span",className:e.signupError})]}),s.jsxs("div",{className:e.signupFormGroup,children:[s.jsx("label",{className:e.signupLabel,htmlFor:_,children:"Repeat password"}),s.jsxs("div",{className:e.signupIconEyes,children:[s.jsx(u,{name:"passwordRepeat",children:({field:a,form:n})=>{const r=p(n.errors,a.name),o=p(n.touched,a.name),i=r&&o;return s.jsx("input",{...a,type:l?"text":"password",className:`${e.signupField} ${i?e.signUpErrorField:""}`,id:_,autoComplete:"new-password",placeholder:"Repeat password"})}}),s.jsx("div",{className:e.signupIcon,onClick:f,children:l?s.jsx(j,{}):s.jsx(x,{})})]}),s.jsx(d,{name:"passwordRepeat",component:"span",className:e.signupError})]}),s.jsx("button",{className:e.signupButton,type:"submit",children:"Sign Up"}),s.jsxs("p",{className:e.signupText,children:["Already have an account? ",s.jsx(L,{to:"/signin",className:e.signupA,children:"Sign In"})]})]})})})};function ds(){return s.jsxs($,{children:[s.jsx(U,{children:s.jsx("title",{children:"Sign up"})}),s.jsx(k,{children:s.jsxs("div",{className:w.signupLaptop,children:[s.jsx(ns,{}),s.jsx("div",{className:w.signupPicture,children:s.jsx(G,{})})]})})]})}export{ds as default};
