import{u as E,r as d,j as s,s as y,N as I,a as P,_ as b,H as v}from"./index-81914557.js";import{A as S}from"./AdvantagesSection-e3ffd761.js";import{C as B,P as L}from"./Page-18d5b37d.js";import{F as $,a as A,b as j,g as m,E as F}from"./formik.esm-acf79a12.js";import{c as N,a as w,I as C,b as k}from"./index.esm-a866548c.js";import{u as G,o as M}from"./yup-56815f8d.js";import{F as q,B as T}from"./BaseModal-d4e914e1.js";import"./hoist-non-react-statics.cjs-8616beac.js";import"./iconBase-e19fce2f.js";import"./index-acba8d93.js";const H="_signinLaptop_2giot_2",O="_signinPicture_2giot_10",V="_loader_2giot_1",f={signinLaptop:H,signinPicture:O,"visually-hidden":"_visually-hidden_2giot_1","close-modal-btn":"_close-modal-btn_2giot_1",loader:V},D="_signinBack_urifo_1",z="_signinName_urifo_23",R="_signinForm_urifo_40",U="_signinLabel_urifo_55",Z="_signinFormGroupEmail_urifo_70",J="_signinFormGroupPassword_urifo_77",K="_signinField_urifo_84",Q="_signinButton_urifo_132",W="_signinText_urifo_161",X="_signinA_urifo_177",Y="_signinError_urifo_193",ss="_signInErrorField_urifo_201",ns="_signinIconEyes_urifo_204",is="_signinIcon_urifo_204",os="_forgotPassword_urifo_218",es="_loader_urifo_1",n={signinBack:D,signinName:z,signinForm:R,signinLabel:U,signinFormGroupEmail:Z,signinFormGroupPassword:J,signinField:K,signinButton:Q,signinText:W,signinA:X,signinError:Y,signInErrorField:ss,signinIconEyes:ns,signinIcon:is,forgotPassword:os,"visually-hidden":"_visually-hidden_urifo_1","close-modal-btn":"_close-modal-btn_urifo_1",loader:es},rs=({openForgotPassModal:l})=>{const r=E(),a=d.useId(),o=d.useId(),[t,u]=d.useState(!1),g=N().shape({email:w().email().matches("^(?!.*@[^,]*,)","Invalid email").required("Email is required"),password:w().matches(/\d/,"The password must contain at least one number").required("No password provided.").min(8,"Password is too short - should be 8 chars minimum.").matches("[a-zA-Z]","Password can only contain Latin letters.")}),p=()=>{u(!t)};return s.jsx("div",{className:n.signinBack,children:s.jsx($,{initialValues:{email:"",password:""},validationSchema:g,onSubmit:(i,e)=>{r(y(i)),e.resetForm()},children:s.jsxs(A,{className:n.signinForm,autoComplete:"on",children:[s.jsx("h1",{className:n.signinName,children:"Sign In"}),s.jsxs("div",{className:n.signinFormGroupEmail,children:[s.jsx("label",{className:n.signinLabel,htmlFor:a,children:"Email"}),s.jsx(j,{name:"email",children:({field:i,form:e})=>{const _=m(e.errors,i.name),x=m(e.touched,i.name),h=_&&x;return s.jsx("input",{...i,type:"text",className:`${n.signinField} ${h?n.signInErrorField:""}`,id:a,autoComplete:"username",placeholder:"Enter your email"})}}),s.jsx(F,{name:"email",component:"span",className:n.signinError})]}),s.jsxs("div",{className:n.signinFormGroupPassword,children:[s.jsx("label",{className:n.signinLabel,htmlFor:o,children:"Password"}),s.jsxs("div",{className:n.signinIconEyes,children:[s.jsx(j,{name:"password",children:({field:i,form:e})=>{const _=m(e.errors,i.name),x=m(e.touched,i.name),h=_&&x;return s.jsx("input",{...i,type:t?"text":"password",className:`${n.signinField} ${h?n.signInErrorField:""}`,id:o,autoComplete:"current-password",placeholder:"Enter your password"})}}),s.jsx("div",{className:n.signinIcon,onClick:p,children:t?s.jsx(C,{}):s.jsx(k,{})})]}),s.jsx(F,{name:"password",component:"span",className:n.signinError})]}),s.jsx("button",{className:n.signinButton,type:"submit",children:"Log In"}),s.jsxs("p",{className:n.signinText,children:["Don`t have an account? ",s.jsx(I,{to:"/signup",className:n.signinA,children:"Sign Up"})]}),s.jsx("button",{className:n.forgotPassword,type:"button",onClick:l,children:"Forgot password?"})]})})})},as="_wrapper_limxw_1",ts="_title_limxw_5",ls="_label_limxw_14",cs="_input_limxw_23",ms="_submitButton_limxw_52",ds="_loader_limxw_1",c={wrapper:as,title:ts,label:ls,input:cs,submitButton:ms,"visually-hidden":"_visually-hidden_limxw_1","close-modal-btn":"_close-modal-btn_limxw_1",loader:ds},us=N().shape({email:w().email().required("Email is not provided")}),gs=({closeModal:l})=>{const r=E(),{register:a,handleSubmit:o,formState:{errors:t},reset:u}=G({resolver:M(us)}),g=async p=>{const i=await r(P({email:p.email}));i.meta.requestStatus==="fulfilled"?(b.success(`${i.payload}`,{duration:5e3,position:"top-center",style:{textAlign:"center",boxShadow:"8px 11px 27px -8px rgba(66, 68, 90, 1)"}}),l()):(b.error(`${i.payload}`,{duration:5e3,position:"top-center",style:{textAlign:"center",boxShadow:"8px 11px 27px -8px rgba(66, 68, 90, 1)"}}),u())};return s.jsxs("div",{className:c.wrapper,children:[s.jsx("h3",{className:c.title,children:"Account recovery"}),s.jsxs("form",{onSubmit:o(g),children:[s.jsx("label",{className:c.label,htmlFor:"email",children:"Enter your email:"}),t.email&&s.jsx(q,{message:t.email.message}),s.jsx("input",{className:c.input,type:"text",name:"email",id:"email",...a("email")}),s.jsx("button",{className:c.submitButton,type:"submit",children:"Next"})]})]})};function Ns(){const[l,r]=d.useState(!1),a=()=>r(!0),o=()=>r(!1);return s.jsxs(B,{children:[s.jsx(v,{children:s.jsx("title",{children:"Sign in"})}),s.jsx(L,{children:s.jsxs("div",{className:f.signinLaptop,children:[s.jsx(rs,{openForgotPassModal:a}),s.jsx("div",{className:f.signinPicture,children:s.jsx(S,{})})]})}),s.jsx(T,{isOpen:l,onClose:o,children:s.jsx(gs,{closeModal:o})})]})}export{Ns as default};
