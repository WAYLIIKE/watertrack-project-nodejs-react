import{j as s,u as f,a as M,s as k,r as g,b as A,N as L,c as R,_ as h,d as C,H as q}from"./index-bd1ae9e4.js";import{A as G}from"./AdvantagesSection-d47368ff.js";import{C as O,P as z}from"./Page-6616735a.js";import{F as T,a as H,b as F,g as x,E as N}from"./formik.esm-5ed3e231.js";import{c as E,a as b,I as V,b as D}from"./index.esm-a6a7145c.js";import{u as I,o as S}from"./yup-45d1fdf6.js";import{F as $,B as v}from"./BaseModal-94ac9a2e.js";import"./hoist-non-react-statics.cjs-14001c50.js";import"./iconBase-4f545f75.js";import"./index-4a4fcc36.js";const U="_signinLaptop_2giot_2",Z="_signinPicture_2giot_10",J="_loader_2giot_1",P={signinLaptop:U,signinPicture:Z,"visually-hidden":"_visually-hidden_2giot_1","close-modal-btn":"_close-modal-btn_2giot_1",loader:J},K="_signinBack_urifo_1",Q="_signinName_urifo_23",W="_signinForm_urifo_40",X="_signinLabel_urifo_55",Y="_signinFormGroupEmail_urifo_70",ss="_signinFormGroupPassword_urifo_77",es="_signinField_urifo_84",ns="_signinButton_urifo_132",is="_signinText_urifo_161",os="_signinA_urifo_177",as="_signinError_urifo_193",ts="_signInErrorField_urifo_201",rs="_signinIconEyes_urifo_204",ls="_signinIcon_urifo_204",cs="_forgotPassword_urifo_218",ds="_loader_urifo_1",e={signinBack:K,signinName:Q,signinForm:W,signinLabel:X,signinFormGroupEmail:Y,signinFormGroupPassword:ss,signinField:es,signinButton:ns,signinText:is,signinA:os,signinError:as,signInErrorField:ts,signinIconEyes:rs,signinIcon:ls,forgotPassword:cs,"visually-hidden":"_visually-hidden_urifo_1","close-modal-btn":"_close-modal-btn_urifo_1",loader:ds},ms="_forgotPassword_gykzq_1",ps="_loader_gykzq_1",us={forgotPassword:ms,"visually-hidden":"_visually-hidden_gykzq_1","close-modal-btn":"_close-modal-btn_gykzq_1",loader:ps},_s=({openResendModal:i})=>s.jsx("button",{className:us.forgotPassword,type:"button",onClick:i,children:"Resend email"}),gs=({openForgotPassModal:i,openResendEmailModal:r})=>{const m=f(),l=M(k),n=g.useId(),o=g.useId(),[a,c]=g.useState(!1),d=E().shape({email:b().email().matches("^(?!.*@[^,]*,)","Invalid email").required("Email is required"),password:b().matches(/\d/,"The password must contain at least one number").required("No password provided.").min(8,"Password is too short - should be 8 chars minimum.").matches("[a-zA-Z]","Password can only contain Latin letters.")}),B=()=>{c(!a)};return s.jsx("div",{className:e.signinBack,children:s.jsx(T,{initialValues:{email:"",password:""},validationSchema:d,onSubmit:(t,p)=>{m(A(t)),p.resetForm()},children:s.jsxs(H,{className:e.signinForm,autoComplete:"on",children:[s.jsx("h1",{className:e.signinName,children:"Sign In"}),s.jsxs("div",{className:e.signinFormGroupEmail,children:[s.jsx("label",{className:e.signinLabel,htmlFor:n,children:"Email"}),s.jsx(F,{name:"email",children:({field:t,form:p})=>{const w=x(p.errors,t.name),j=x(p.touched,t.name),y=w&&j;return s.jsx("input",{...t,type:"text",className:`${e.signinField} ${y?e.signInErrorField:""}`,id:n,autoComplete:"username",placeholder:"Enter your email"})}}),s.jsx(N,{name:"email",component:"span",className:e.signinError})]}),s.jsxs("div",{className:e.signinFormGroupPassword,children:[s.jsx("label",{className:e.signinLabel,htmlFor:o,children:"Password"}),s.jsxs("div",{className:e.signinIconEyes,children:[s.jsx(F,{name:"password",children:({field:t,form:p})=>{const w=x(p.errors,t.name),j=x(p.touched,t.name),y=w&&j;return s.jsx("input",{...t,type:a?"text":"password",className:`${e.signinField} ${y?e.signInErrorField:""}`,id:o,autoComplete:"current-password",placeholder:"Enter your password"})}}),s.jsx("div",{className:e.signinIcon,onClick:B,children:a?s.jsx(V,{}):s.jsx(D,{})})]}),s.jsx(N,{name:"password",component:"span",className:e.signinError})]}),s.jsx("button",{className:e.signinButton,type:"submit",children:"Log In"}),s.jsxs("p",{className:e.signinText,children:["Don`t have an account? ",s.jsx(L,{to:"/signup",className:e.signinA,children:"Sign Up"})]}),s.jsx("button",{className:e.forgotPassword,type:"button",onClick:i,children:"Forgot password?"}),l?s.jsx(_s,{openResendModal:r}):null]})})})},xs="_wrapper_1lipw_1",hs="_title_1lipw_5",bs="_label_1lipw_14",ws="_input_1lipw_23",js="_submitButton_1lipw_53",ys="_loader_1lipw_1",u={wrapper:xs,title:hs,label:bs,input:ws,submitButton:js,"visually-hidden":"_visually-hidden_1lipw_1","close-modal-btn":"_close-modal-btn_1lipw_1",loader:ys},fs=E().shape({email:b().email().required("Email is not provided")}),Es=({closeModal:i})=>{const r=f(),{register:m,handleSubmit:l,formState:{errors:n},reset:o}=I({resolver:S(fs)}),a=async c=>{const d=await r(R({email:c.email}));d.meta.requestStatus==="fulfilled"?(h.success(`${d.payload}`,{duration:5e3,position:"top-center",style:{textAlign:"center",boxShadow:"8px 11px 27px -8px rgba(66, 68, 90, 1)"}}),i()):(h.error(`${d.payload}`,{duration:5e3,position:"top-center",style:{textAlign:"center",boxShadow:"8px 11px 27px -8px rgba(66, 68, 90, 1)"}}),o())};return s.jsxs("div",{className:u.wrapper,children:[s.jsx("h3",{className:u.title,children:"Account recovery"}),s.jsxs("form",{onSubmit:l(a),children:[s.jsx("label",{className:u.label,htmlFor:"email",children:"Enter your email:"}),n.email&&s.jsx($,{message:n.email.message}),s.jsx("input",{className:u.input,type:"text",name:"email",id:"email",...m("email")}),s.jsx("button",{className:u.submitButton,type:"submit",children:"Send"})]})]})},Fs="_wrapper_1lipw_1",Ns="_title_1lipw_5",vs="_label_1lipw_14",Ps="_input_1lipw_23",Is="_submitButton_1lipw_53",Ss="_loader_1lipw_1",_={wrapper:Fs,title:Ns,label:vs,input:Ps,submitButton:Is,"visually-hidden":"_visually-hidden_1lipw_1","close-modal-btn":"_close-modal-btn_1lipw_1",loader:Ss},$s=E().shape({email:b().email().required("Email is not provided")}),Bs=({closeModal:i})=>{const r=f(),{register:m,handleSubmit:l,formState:{errors:n},reset:o}=I({resolver:S($s)}),a=async c=>{const d=await r(C({email:c.email}));d.payload?(h.success(`${d.payload.message}.`,{duration:5e3,position:"top-center",style:{textAlign:"center",boxShadow:"8px 11px 27px -8px rgba(66, 68, 90, 1)"}}),i()):(h.error("Email not found.",{duration:5e3,position:"top-center",style:{textAlign:"center",boxShadow:"8px 11px 27px -8px rgba(66, 68, 90, 1)"}}),o())};return s.jsxs("div",{className:_.wrapper,children:[s.jsx("h3",{className:_.title,children:"Resend verification email"}),s.jsxs("form",{onSubmit:l(a),children:[s.jsx("label",{className:_.label,htmlFor:"email",children:"Enter your email:"}),n.email&&s.jsx($,{message:n.email.message}),s.jsx("input",{className:_.input,type:"text",name:"email",id:"email",...m("email")}),s.jsx("button",{className:_.submitButton,type:"submit",children:"Send"})]})]})};function Ts(){const[i,r]=g.useState(!1),[m,l]=g.useState(!1),n=()=>r(!0),o=()=>r(!1),a=()=>l(!0),c=()=>l(!1);return s.jsxs(O,{children:[s.jsx(q,{children:s.jsx("title",{children:"Sign in"})}),s.jsx(z,{children:s.jsxs("div",{className:P.signinLaptop,children:[s.jsx(gs,{openForgotPassModal:n,openResendEmailModal:a}),s.jsx("div",{className:P.signinPicture,children:s.jsx(G,{})})]})}),s.jsx(v,{isOpen:i,onClose:o,children:s.jsx(Es,{closeModal:o})}),s.jsx(v,{isOpen:m,onClose:c,children:s.jsx(Bs,{closeModal:c})})]})}export{Ts as default};
